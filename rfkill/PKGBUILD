# Maintainer: Severus <severus@theslinux.org>
# Original Maintainer: Gaetan Bisson <bisson@archlinux.org>
# Original Contributor: Thomas BÃ¤chler <thomas@archlinux.org>
# Original Contributor: Giovanni Scafora <giovanni@archlinux.org>

pkgdesc='Tool for enabling and disabling wireless devices'
url='http://wireless.kernel.org/en/users/Documentation/rfkill'
license=('custom')
arch=('i686' 'x86_64')
source=("https://www.kernel.org/pub/software/network/${pkgbase}/${pkgbase}-${pkgver}.tar.xz"
        'service.unblock'
        'service.block'
        'rules.d')

build() {
	cd "${srcdir}/${pkgbase}-${pkgver}"
	make
}

package() {
	cd "${srcdir}/${pkgbase}-${pkgver}"
	make SBINDIR=/usr/bin DESTDIR="${pkgdir}" install
	install -Dm644 COPYING "${pkgdir}/usr/share/licenses/${pkgbase}/LICENSE"
	install -Dm644 ../rules.d "${pkgdir}/usr/lib/udev/rules.d/60-rfkill.rules"
	install -Dm644 ../service.block "${pkgdir}/usr/lib/systemd/system/rfkill-block@.service"
	install -Dm644 ../service.unblock "${pkgdir}/usr/lib/systemd/system/rfkill-unblock@.service"
}
