# Maintainer: Severus <severus@theslinux.org>
# Original Maintainer: Vesa Kaihlavirta <vegai@iki.fi>
# Original Contributor: Kristoffer Fossg√•rd <kfs1@online.no>

pkgdesc="A superb, monospace bitmap font (for X11 and console)"
arch=('any')
url="http://sourceforge.net/projects/terminus-font/"
license=('GPL2' 'custom:OFL')
depends=('xorg-fonts-encodings' 'xorg-fonts-alias' 'xorg-font-utils' 'fontconfig')
replaces=('xserver-terminus-fonts')
install=terminus-font.install
source=("http://downloads.sourceforge.net/project/${pkgbase}/${pkgbase}-${pkgver}/${pkgbase}-${pkgver}.tar.gz")

build() { 
  cd "${srcdir}/${pkgbase}-${pkgver}"

  sh ./configure --prefix=/usr \
              --x11dir=/usr/share/fonts/local \
              --psfdir=/usr/share/kbd/consolefonts
  make
}
package()
{

  make -C "${pkgbase}-${pkgver}" DESTDIR="${pkgdir}" install

  install -Dm644 "$srcdir/$pkgbase-$pkgver/75-yes-terminus.conf" \
                 "$pkgdir/etc/fonts/conf.avail/75-yes-terminus.conf"
  install -Dm644 "${srcdir}/${pkgbase}-${pkgver}/OFL.TXT" \
                 "${pkgdir}/usr/share/licenses/${pkgbase}/LICENSE"

}
