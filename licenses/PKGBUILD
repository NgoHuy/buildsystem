# Maintainer: Severus <severus@theslinux.org>
# Original Maintainer: Dan McGee <dan@archlinux.org>

pkgdesc="The standard licenses distribution package"
arch=('any')
license=('custom:none')
url="http://www.archlinux.org/"
groups=('base')
makedepends=(links)
source=(apache-2.0.txt::http://www.apache.org/licenses/LICENSE-2.0.txt
        cc-by-3.0.txt
        cc-by-nc-3.0.txt
        cc-by-nc-nd-3.0.txt
        cc-by-nc-sa-3.0.txt
        cc-by-nd-3.0.txt
        cc-by-sa-3.0.txt
        cc-readme.txt
        cddl-1.0.txt
        eclipse-1.0.txt
        http://www.gnu.org/licenses/agpl-3.0.txt
        http://www.gnu.org/licenses/gpl-2.0.txt
        http://www.gnu.org/licenses/gpl-3.0.txt
        http://www.gnu.org/licenses/lgpl-2.1.txt
        http://www.gnu.org/licenses/lgpl-3.0.txt
        http://www.gnu.org/licenses/fdl-1.2.txt
        http://www.gnu.org/licenses/fdl-1.3.txt
        http://www.latex-project.org/lppl.txt
        mpl-1.1.txt::http://www.mozilla.org/MPL/1.1/index.txt
        perlartistic.txt
        http://www.perlfoundation.org/attachment/legal/artistic-2_0.txt
        php-3.0.txt::http://www.php.net/license/3_0.txt
        ruby-license.txt::http://www.ruby-lang.org/en/about/license.txt
        cpl-1.0.txt
        python-2.txt
        w3c.txt
        ZopePublicLicense.txt)

package() {
  cd "$pkgdir"
  mkdir -p usr/share/licenses/common
  cd usr/share/licenses/common

  mkdir AGPL3
  cp "$srcdir"/agpl-3.0.txt AGPL3/license.txt
  ln -s AGPL3 AGPL

  mkdir Apache
  cp "$srcdir"/apache-2.0.txt Apache/license.txt
  ln -s Apache APACHE

  mkdir Artistic2.0
  cp "$srcdir"/artistic-2_0.txt Artistic2.0/license.txt

  mkdir CCPL
  cp "$srcdir"/cc-by-3.0.txt CCPL/
  cp "$srcdir"/cc-by-nc-3.0.txt CCPL/
  cp "$srcdir"/cc-by-nc-nd-3.0.txt CCPL/
  cp "$srcdir"/cc-by-nc-sa-3.0.txt CCPL/
  cp "$srcdir"/cc-by-nd-3.0.txt CCPL/
  cp "$srcdir"/cc-by-sa-3.0.txt CCPL/
  cp "$srcdir"/cc-readme.txt CCPL/

  mkdir CDDL
  cp "$srcdir"/cddl-1.0.txt CDDL/license.txt

  mkdir CPL
  cp "$srcdir"/cpl-1.0.txt CPL/license.txt

  mkdir EPL
  cp "$srcdir"/eclipse-1.0.txt EPL/license.txt

  mkdir {GPL2,GPL3}
  cp "$srcdir"/gpl-2.0.txt GPL2/license.txt
  cp "$srcdir"/gpl-3.0.txt GPL3/license.txt
  ln -s GPL2 GPL

  mkdir {FDL1.2,FDL1.3}
  cp "$srcdir"/fdl-1.2.txt FDL1.2/license.txt
  cp "$srcdir"/fdl-1.3.txt FDL1.3/license.txt
  ln -s FDL1.2 FDL

  mkdir {LGPL2.1,LGPL3}
  cp "$srcdir"/lgpl-2.1.txt LGPL2.1/license.txt
  cp "$srcdir"/lgpl-3.0.txt LGPL3/license.txt
  ln -s LGPL2.1 LGPL

  mkdir LPPL
  cp "$srcdir"/lppl.txt LPPL/license.txt

  mkdir MPL
  cp "$srcdir"/mpl-1.1.txt MPL/license.txt

  mkdir PerlArtistic
  cp "$srcdir"/perlartistic.txt PerlArtistic/license.txt

  mkdir PHP
  cp "$srcdir"/php-3.0.txt PHP/license.txt
  
  mkdir PSF
  cp "$srcdir"/python-2.txt PSF/license.txt

  mkdir RUBY
  cp "$srcdir"/ruby-license.txt RUBY/license.txt

  mkdir W3C
  cp "$srcdir"/w3c.txt W3C/license.txt

  mkdir ZPL
  cp "$srcdir"/ZopePublicLicense.txt ZPL/license.txt
}
