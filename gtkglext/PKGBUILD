# Maintainer: Severus <severus@theslinux.org>
# Original Maintainer: Ronald van Haren <ronald.archlinux.org>
# Original Contributor: Ben <ben@benmazer.net>

pkgdesc="opengl extensions for gtk2"
arch=('i686' 'x86_64')
url="http://gtkglext.sourceforge.net/"
license=('LGPL')
depends=('gtk2' 'glu' 'libxmu' 'pangox-compat')
makedepends=('mesa')
options=('!libtool')
source=("http://downloads.sourceforge.net/sourceforge/gtkglext/${pkgbase}-${pkgver}.tar.bz2"
	'gtk2.20.patch')

build() {
  cd "${srcdir}/${pkgbase}-${pkgver}"

  patch -Np1 -i "${srcdir}/gtk2.20.patch"
  sed '/AC_PATH_XTRA/d' -i configure.in

  autoreconf --force --install
  ./configure --prefix=/usr \
              --disable-static
  make
}

package() {
  cd "${srcdir}/${pkgbase}-${pkgver}"
  make DESTDIR="${pkgdir}" install
}
