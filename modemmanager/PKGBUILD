# Maintainer: Severus <severus@theslinux.org>
# Original Maintainer: Ionut Biru <ibiru@archlinux.org>
# Original Contributor: Jan Alexander Steffens (heftig) <jan.steffens@gmail.com>

_realname=ModemManager
pkgdesc="Mobile broadband modem management service"
arch=(i686 x86_64)
url="http://www.freedesktop.org/wiki/Software/ModemManager/"
license=(GPL2)
depends=(udev ppp libqmi libmbim polkit hicolor-icon-theme)
makedepends=(intltool gtk-doc)
optdepends=('usb_modeswitch: install if your modem shows up as a storage drive')
options=('!libtool')
install=modemmanager.install
source=(http://www.freedesktop.org/software/$_realname/$_realname-$pkgver.tar.xz)

build() {
  cd $_realname-$pkgver
  ./configure --prefix=/usr \
        --sysconfdir=/etc \
        --localstatedir=/var \
        --sbindir=/usr/bin \
        --with-udev-base-dir=/usr/lib/udev \
        --disable-static \
        --with-polkit=permissive
  make
}

package() {
  cd $_realname-$pkgver
  make DESTDIR="$pkgdir" install
}
