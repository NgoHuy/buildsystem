#!/bin/bash

# Maintainer: Anh K. Huynh <kyanh@theslinux.org>
# Original Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Original Maintainer:  TDY <tdy@gmx.com>
# Original Contributor: Grigorios Bouzakis <grbzks[at]gmail[dot]com>

pkgdesc='A terminal multiplexer'
url='http://tmux.sourceforge.net/'
arch=('i686' 'x86_64')
license=('BSD')
depends=('ncurses' 'libevent')
source=("http://downloads.sourceforge.net/tmux/tmux-$pkgver.tar.gz" LICENSE)

build() {
	cd "$srcdir/$pkgbase-$pkgver"
	./configure --prefix=/usr
	make
}

package() {
	cd "$srcdir/$pkgbase-$pkgver"
	make install DESTDIR=$pkgdir
	install -Dm644 ../LICENSE "$pkgdir/usr/share/licenses/tmux/LICENSE"

	install -dm755 "$pkgdir/usr/share/tmux/"
	install -m644 examples/* "$pkgdir/usr/share/tmux/"
	install -Dm644 examples/tmux.vim "$pkgdir/usr/share/vim/vimfiles/syntax/tmux.vim"

	install -d $pkgdir/usr/share/bash-completion/completions/
	mv $pkgdir/usr/share/tmux/bash_completion_tmux.sh $pkgdir/usr/share/bash-completion/completions/tmux
}
