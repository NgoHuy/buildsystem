# Maintainer: Severus <severus@theslinux.org>
# Original Maintainer: Andrea Scarpino <andrea@archlinux.org>

pkgdesc="A qt-based library that maps JSON data to QVariant objects"
arch=('i686' 'x86_64')
license=('GPL')
url="http://qjson.sourceforge.net"
depends=('qt4')
makedepends=('cmake')
source=(${pkgbase}-${pkgver}.tar.gz::"https://github.com/flavio/${pkgbase}/archive/${pkgver}.tar.gz")

build() {
  . /etc/profile.d/qt4.sh

  mkdir build
  cd build
  cmake ../${pkgbase}-${pkgver} \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_BUILD_TYPE=Release
  make
}

package() {
  cd build
  make DESTDIR="${pkgdir}" install
}
