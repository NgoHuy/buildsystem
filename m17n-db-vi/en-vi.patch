From d52c440b65eacee607eae1e3ae3eefaaceda2a86 Mon Sep 17 00:00:00 2001
From: Ky-Anh Huynh <kyanh@theslinux.org>
Date: Sat, 6 Apr 2013 07:15:24 +0000
Subject: [PATCH 1/2] Fix a minor bug in po/Makefile.in.in

---
 m17n-db/src/m17n-db-1.6.4/po/Makefile.in.in | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/m17n-db/src/m17n-db-1.6.4/po/Makefile.in.in b/m17n-db/src/m17n-db-1.6.4/po/Makefile.in.in
index 2ed49e6..098e15b 100644
--- a/m17n-db/src/m17n-db-1.6.4/po/Makefile.in.in
+++ b/m17n-db/src/m17n-db-1.6.4/po/Makefile.in.in
@@ -31,7 +31,7 @@ gettextsrcdir = $(datadir)/gettext/po
 INSTALL = @INSTALL@
 INSTALL_DATA = @INSTALL_DATA@
 mkinstalldirs = $(SHELL) @install_sh@ -d
-mkdir_p = @mkdir_p@
+mkdir_p = @MKDIR_P@
 
 GMSGFMT_ = @GMSGFMT@
 GMSGFMT_no = @GMSGFMT@
-- 
1.8.2


From c0a7b2b84a8aa56d6a044c4d6d41242d83b5cd00 Mon Sep 17 00:00:00 2001
From: Ky-Anh Huynh <kyanh@theslinux.org>
Date: Sat, 6 Apr 2013 07:15:59 +0000
Subject: [PATCH 2/2] Disable unused language supports

---
 m17n-db/src/m17n-db-1.6.4/FLT/Makefile.am      | 25 +--------
 m17n-db/src/m17n-db-1.6.4/LANGDATA/Makefile.am |  2 +-
 m17n-db/src/m17n-db-1.6.4/MIM/Makefile.am      | 53 +------------------
 m17n-db/src/m17n-db-1.6.4/Makefile.am          |  6 +--
 m17n-db/src/m17n-db-1.6.4/configure.ac         |  4 +-
 m17n-db/src/m17n-db-1.6.4/po/LINGUAS           |  2 +-
 m17n-db/src/m17n-db-1.6.4/po/POTFILES.in       | 72 --------------------------
 7 files changed, 8 insertions(+), 156 deletions(-)

diff --git a/m17n-db/src/m17n-db-1.6.4/FLT/Makefile.am b/m17n-db/src/m17n-db-1.6.4/FLT/Makefile.am
index 1bee158..de5e434 100644
--- a/m17n-db/src/m17n-db-1.6.4/FLT/Makefile.am
+++ b/m17n-db/src/m17n-db-1.6.4/FLT/Makefile.am
@@ -25,29 +25,6 @@ pkgdata_DATA = ${FONT_LAYOUT_TABLE}
 
 EXTRA_DIST = ${FONT_LAYOUT_TABLE}
 
-FONT_LAYOUT_TABLE = \
-	ARAB.flt ARAB-OTF.flt ARAB-OTF-NO-GPOS.flt \
-	BENG-OTF.flt BNG2-OTF.flt \
-	CHAM-GENERIC.flt \
-	DEVA-CDAC.flt DEVA-OTF.flt DEV2-OTF.flt \
-	GUJR-OTF.flt GJR2-OTF.flt \
-	GURU-OTF.flt GUR2-OTF.flt \
-	HEBR.flt HEBR-FF.flt HEBR-OTF.flt \
-	KHMR-ANLONG.flt KHMR-OTF.flt \
-	KNDA-OTF.flt KND2-OTF.flt \
-	LAOO-MULE.flt LAOO-ALICE.flt LAOO-GENERIC.flt LAOO-OTF.flt \
-	MLYM-CDAC.flt MLYM-OTF.flt MLYM-RACHANA.flt MLM2-OTF.flt \
-	MYMR-MYAZEDI.flt MYMR-SIL.flt \
-	ORYA-OTF.flt ORY2-OTF.flt \
-	SINH-OTF.flt \
-	SYRC-OTF.flt \
-	TAML-CDAC.flt TAML-OTF.flt TML2-OTF.flt \
-	TELU-OTF.flt TEL2-OTF.flt \
-	THAA-OTF.flt \
-	THAI-TIS620.flt THAI-NORASI.flt THAI-GENERIC.flt THAI-OTF.flt \
-	TIBT-MULE.flt TIBT-MTIB.flt TIBT-OTF.flt \
-	COMBINING.flt \
-	NO-CTL.flt
+FONT_LAYOUT_TABLE =
 
 pkgdatadir=$(datadir)/m17n
-
diff --git a/m17n-db/src/m17n-db-1.6.4/LANGDATA/Makefile.am b/m17n-db/src/m17n-db-1.6.4/LANGDATA/Makefile.am
index 7191e33..3326177 100644
--- a/m17n-db/src/m17n-db-1.6.4/LANGDATA/Makefile.am
+++ b/m17n-db/src/m17n-db-1.6.4/LANGDATA/Makefile.am
@@ -32,7 +32,7 @@ EXTRA_DIST = ${TABLES} native.txt ISO-639-2.txt
 dist_noinst_SCRIPTS = LANGUAGE.awk
 
 native.ext: ${TABLES}
-	(for f in [a-z][a-z].lnm [a-z][a-z][a-z].lnm; do \
+	(for f in vi.lnm en.lnm; do \
 	  l=`basename $$f .tbl`; \
 	  sed -n -e "/($$l /s/(\([a-z]*\)[^\"]*\"\([^\"]*\)\")/\1|\2/p" < $$f; \
 	done) > $@
diff --git a/m17n-db/src/m17n-db-1.6.4/MIM/Makefile.am b/m17n-db/src/m17n-db-1.6.4/MIM/Makefile.am
index debebaa..b9cb928 100644
--- a/m17n-db/src/m17n-db-1.6.4/MIM/Makefile.am
+++ b/m17n-db/src/m17n-db-1.6.4/MIM/Makefile.am
@@ -26,58 +26,7 @@ pkgdata_DATA = ${INPUT_METHOD}
 EXTRA_DIST = ${INPUT_METHOD}
 
 INPUT_METHOD = \
-	am-sera.mim \
-	ar-kbd.mim \
-	as-itrans.mim \
-	bn-itrans.mim \
-	bn-unijoy.mim \
-	bo-tcrc.mim bo-wylie.mim \
-	cmc-kbd.mim \
-	da-post.mim \
-	dv-phonetic.mim \
-	el-kbd.mim \
-	fa-isiri.mim \
-	fr-azerty.mim \
-	grc-mizuochi.mim \
-	gu-itrans.mim \
-	he-kbd.mim \
-	hi-itrans.mim hi-typewriter.mim \
-	hr-kbd.mim \
-	hy-kbd.mim \
-	ja-anthy.mim ja-tcode.mim ja-trycode.mim \
-	ka-kbd.mim \
-	kk-kbd.mim kk-arabic.mim \
-	km-yannis.mim \
-	kn-itrans.mim \
-	ko-han2.mim ko-romaja.mim \
-	lo-kbd.mim lo-lrt.mim \
-	ml-itrans.mim \
-	my-kbd.mim \
-	or-itrans.mim \
-	pa-itrans.mim \
-	ru-kbd.mim ru-yawerty.mim ru-phonetic.mim \
-	sa-harvard-kyoto.mim \
-	si-samanala.mim si-wijesekera.mim \
-	sk-kbd.mim \
-	sr-kbd.mim \
-	sv-post.mim \
-	ta-itrans.mim ta-lk-renganathan.mim \
-	te-itrans.mim \
-	th-kesmanee.mim \
-	th-pattachote.mim \
-	th-tis820.mim \
-	ua-kbd.mim \
-	ug-kbd.mim \
 	vi-base.mim vi-viqr.mim vi-telex.mim vi-vni.mim vi-tcvn.mim \
-	zh-py.mim zh-py-gb.mim zh-py-b5.mim \
-	zh-tonepy.mim zh-tonepy-gb.mim zh-tonepy-b5.mim \
-	zh-cangjie.mim zh-quick.mim \
-	zh-pinyin.mim \
-	latn-post.mim latn-pre.mim \
-	syrc-phonetic.mim \
-	zh-bopomofo.mim \
-	unicode.mim rfc1345.mim \
-	ispell.mim \
-	global.mim cjk-util.mim zh-util.mim
+	global.mim
 
 pkgdatadir=$(datadir)/m17n
diff --git a/m17n-db/src/m17n-db-1.6.4/Makefile.am b/m17n-db/src/m17n-db-1.6.4/Makefile.am
index d65fe7e..32ab2fc 100644
--- a/m17n-db/src/m17n-db-1.6.4/Makefile.am
+++ b/m17n-db/src/m17n-db-1.6.4/Makefile.am
@@ -42,7 +42,7 @@ EXTRA_DIST = config.rpath mkinstalldirs m4/ChangeLog bootstrap.sh \
 	get-glibc.sh \
 	${FORMATS}
 
-CHARSETS = ${ISO8859} ${IBM} ${CODEPAGE} ${CJK} ${MISC}
+CHARSETS = ${MISC}
 
 ISO8859 = \
 	8859-2.map 8859-3.map 8859-4.map 8859-5.map 8859-6.map 8859-7.map \
@@ -74,9 +74,7 @@ CJK =   GB_1988-80.map GB2312.map GBK.map GB180302.map GB180304.map \
 	JISX213A.map \
 	KSC5601.map KSC5636.map JOHAB.map
 
-MISC =  KOI-8.map KOI8-R.map KOI8-U.map KOI8-T.map \
-	TIS-620.map VISCII.map VSCII.map\
-	KA-PS.map KA-ACADEMY.map
+MISC = VISCII.map VSCII.map
 
 CHAR_TABLE = \
 	NAME.tab SCRIPT.tab CASE-S.tab CASE-C.tab \
diff --git a/m17n-db/src/m17n-db-1.6.4/configure.ac b/m17n-db/src/m17n-db-1.6.4/configure.ac
index 5ec1205..8c89bcb 100644
--- a/m17n-db/src/m17n-db-1.6.4/configure.ac
+++ b/m17n-db/src/m17n-db-1.6.4/configure.ac
@@ -70,10 +70,10 @@ if test "x$CHARMAPS" != "x"; then
 else :
 fi
 
-ICONS=`cd icons; echo *.png`
+ICONS=`cd icons; echo en-ispell.png vi-*.png`
 AC_SUBST(ICONS)
 
-LANGNAME_TABLES=`cd LANGDATA; echo *.lnm`
+LANGNAME_TABLES=`cd LANGDATA; echo en.lnm vi.lnm`
 AC_SUBST(LANGNAME_TABLES)
 
 AC_CONFIG_FILES([Makefile mapconv m17n-db m17n-db.pc
diff --git a/m17n-db/src/m17n-db-1.6.4/po/LINGUAS b/m17n-db/src/m17n-db-1.6.4/po/LINGUAS
index b42e47d..7c74f87 100644
--- a/m17n-db/src/m17n-db-1.6.4/po/LINGUAS
+++ b/m17n-db/src/m17n-db-1.6.4/po/LINGUAS
@@ -1 +1 @@
-ja vi de
+vi
diff --git a/m17n-db/src/m17n-db-1.6.4/po/POTFILES.in b/m17n-db/src/m17n-db-1.6.4/po/POTFILES.in
index 9e7a8ca..85c1dd6 100644
--- a/m17n-db/src/m17n-db-1.6.4/po/POTFILES.in
+++ b/m17n-db/src/m17n-db-1.6.4/po/POTFILES.in
@@ -1,77 +1,5 @@
-MIM/am-sera.mim
-MIM/ar-kbd.mim
-MIM/as-itrans.mim
-MIM/bn-itrans.mim
-MIM/bn-unijoy.mim
-MIM/bo-tcrc.mim
-MIM/bo-wylie.mim
-MIM/cjk-util.mim
-MIM/cmc-kbd.mim
-MIM/da-post.mim
-MIM/dv-phonetic.mim
-MIM/el-kbd.mim
-MIM/fa-isiri.mim
-MIM/fr-azerty.mim
-MIM/global.mim
-MIM/grc-mizuochi.mim
-MIM/gu-itrans.mim
-MIM/he-kbd.mim
-MIM/hi-itrans.mim
-MIM/hi-typewriter.mim
-MIM/hr-kbd.mim
-MIM/hy-kbd.mim
-MIM/ispell.mim
-MIM/ja-anthy.mim
-MIM/ja-tcode.mim
-MIM/ja-trycode.mim
-MIM/ka-kbd.mim
-MIM/kk-arabic.mim
-MIM/kk-kbd.mim
-MIM/km-yannis.mim
-MIM/kn-itrans.mim
-MIM/ko-han2.mim
-MIM/ko-romaja.mim
-MIM/latn-post.mim
-MIM/latn-pre.mim
-MIM/lo-kbd.mim
-MIM/lo-lrt.mim
-MIM/ml-itrans.mim
-MIM/my-kbd.mim
-MIM/or-itrans.mim
-MIM/pa-itrans.mim
-MIM/rfc1345.mim
-MIM/ru-kbd.mim
-MIM/ru-phonetic.mim
-MIM/ru-yawerty.mim
-MIM/sa-harvard-kyoto.mim
-MIM/si-samanala.mim
-MIM/si-wijesekera.mim
-MIM/sk-kbd.mim
-MIM/sr-kbd.mim
-MIM/sv-post.mim
-MIM/syrc-phonetic.mim
-MIM/ta-itrans.mim
-MIM/ta-lk-renganathan.mim
-MIM/te-itrans.mim
-MIM/th-kesmanee.mim
-MIM/th-pattachote.mim
-MIM/th-tis820.mim
-MIM/ua-kbd.mim
-MIM/ug-kbd.mim
-MIM/unicode.mim
 MIM/vi-base.mim
 MIM/vi-tcvn.mim
 MIM/vi-telex.mim
 MIM/vi-viqr.mim
 MIM/vi-vni.mim
-MIM/zh-bopomofo.mim
-MIM/zh-cangjie.mim
-MIM/zh-pinyin.mim
-MIM/zh-py-b5.mim
-MIM/zh-py-gb.mim
-MIM/zh-py.mim
-MIM/zh-quick.mim
-MIM/zh-tonepy-b5.mim
-MIM/zh-tonepy-gb.mim
-MIM/zh-tonepy.mim
-MIM/zh-util.mim
-- 
1.8.2

